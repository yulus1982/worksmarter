{"ast":null,"code":"import _regeneratorRuntime from\"/home/younes/Desktop/api/ai-content/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/younes/Desktop/api/ai-content/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";export function callAPI(_x,_x2){return _callAPI.apply(this,arguments);}function _callAPI(){_callAPI=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(prompt,options){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"/api/ai-content\",{method:\"POST\",mode:\"cors\",cache:\"no-cache\",credentials:\"same-origin\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(process.env.API_KEY)},body:JSON.stringify({prompt:prompt,temperature:options.temperature,max_tokens:options.max_tokens,top_p:options.top_p,frequency_penalty:options.frequency_penalty,presence_penalty:options.presence_penalty})});case 3:response=_context.sent;if(response.ok){_context.next=6;break;}throw new Error(\"HTTP error! Status: \".concat(response.status));case 6:_context.next=8;return response.json();case 8:data=_context.sent;console.log(data);return _context.abrupt(\"return\",data.output.choices[0].text);case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",{error:true,message:\"Sorry, there was an error with your request. Please make sure your API Key is valid and try again later. If the issue persists, please try again later.\"});case 16:case\"end\":return _context.stop();}},_callee,null,[[0,13]]);}));return _callAPI.apply(this,arguments);}","map":{"version":3,"names":["callAPI","_x","_x2","_callAPI","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","prompt","options","response","data","wrap","_callee$","_context","prev","next","fetch","method","mode","cache","credentials","headers","Authorization","concat","process","env","API_KEY","body","JSON","stringify","temperature","max_tokens","top_p","frequency_penalty","presence_penalty","sent","ok","Error","status","json","console","log","abrupt","output","choices","text","t0","error","message","stop"],"sources":["/home/younes/Desktop/api/ai-content/src/components/api/OpenAIAPI.js"],"sourcesContent":["export async function callAPI(prompt, options) {\n  try {\n    const response = await fetch(`/api/ai-content`, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${process.env.API_KEY}`,\n      },\n      body: JSON.stringify({\n        prompt: prompt,\n        temperature: options.temperature,\n        max_tokens: options.max_tokens,\n        top_p: options.top_p,\n        frequency_penalty: options.frequency_penalty,\n        presence_penalty: options.presence_penalty,\n      }),\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n\n    const data = await response.json();\n    console.log(data);\n    return data.output.choices[0].text;\n  } catch (error) {\n    // console.error(\"Error:\", error.message);\n    return {\n      error: true,\n      message:\n        \"Sorry, there was an error with your request. Please make sure your API Key is valid and try again later. If the issue persists, please try again later.\",\n    };\n  }\n}\n"],"mappings":"kQAAA,eAAsB,CAAAA,OAAOA,CAAAC,EAAA,CAAAC,GAAA,SAAAC,QAAA,CAAAC,KAAA,MAAAC,SAAA,GAoC5B,SAAAF,SAAA,EAAAA,QAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CApCM,SAAAC,QAAuBC,MAAM,CAAEC,OAAO,MAAAC,QAAA,CAAAC,IAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAElB,CAAAC,KAAK,mBAAoB,CAC9CC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAE,MAAM,CACZC,KAAK,CAAE,UAAU,CACjBC,WAAW,CAAE,aAAa,CAC1BC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClCC,aAAa,WAAAC,MAAA,CAAYC,OAAO,CAACC,GAAG,CAACC,OAAO,CAC9C,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBtB,MAAM,CAAEA,MAAM,CACduB,WAAW,CAAEtB,OAAO,CAACsB,WAAW,CAChCC,UAAU,CAAEvB,OAAO,CAACuB,UAAU,CAC9BC,KAAK,CAAExB,OAAO,CAACwB,KAAK,CACpBC,iBAAiB,CAAEzB,OAAO,CAACyB,iBAAiB,CAC5CC,gBAAgB,CAAE1B,OAAO,CAAC0B,gBAC5B,CAAC,CACH,CAAC,CAAC,QAjBIzB,QAAQ,CAAAI,QAAA,CAAAsB,IAAA,IAmBT1B,QAAQ,CAAC2B,EAAE,EAAAvB,QAAA,CAAAE,IAAA,eACR,IAAI,CAAAsB,KAAK,wBAAAd,MAAA,CAAwBd,QAAQ,CAAC6B,MAAM,EAAG,QAAAzB,QAAA,CAAAE,IAAA,SAGxC,CAAAN,QAAQ,CAAC8B,IAAI,EAAE,QAA5B7B,IAAI,CAAAG,QAAA,CAAAsB,IAAA,CACVK,OAAO,CAACC,GAAG,CAAC/B,IAAI,CAAC,CAAC,OAAAG,QAAA,CAAA6B,MAAA,UACXhC,IAAI,CAACiC,MAAM,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,IAAI,UAAAhC,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAiC,EAAA,CAAAjC,QAAA,oBAAAA,QAAA,CAAA6B,MAAA,UAG3B,CACLK,KAAK,CAAE,IAAI,CACXC,OAAO,CACL,yJACJ,CAAC,2BAAAnC,QAAA,CAAAoC,IAAA,MAAA3C,OAAA,iBAEJ,UAAAN,QAAA,CAAAC,KAAA,MAAAC,SAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}