{"ast":null,"code":"export async function callAPI(prompt, options) {\n  try {\n    const response = await fetch(`/api/ai-content`, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${process.env.API_KEY}`\n      },\n      body: JSON.stringify({\n        prompt: prompt,\n        temperature: options.temperature,\n        max_tokens: options.max_tokens,\n        top_p: options.top_p,\n        frequency_penalty: options.frequency_penalty,\n        presence_penalty: options.presence_penalty\n      })\n    });\n    if (!response.ok) {\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n    const data = await response.json();\n    console.log(data);\n    return data.output.choices[0].text;\n  } catch (error) {\n    // console.error(\"Error:\", error.message);\n    return {\n      error: true,\n      message: \"Sorry, there was an error with your request. Please make sure your API Key is valid and try again later. If the issue persists, please try again later.\"\n    };\n  }\n}","map":{"version":3,"names":["callAPI","prompt","options","response","fetch","method","mode","cache","credentials","headers","Authorization","process","env","API_KEY","body","JSON","stringify","temperature","max_tokens","top_p","frequency_penalty","presence_penalty","ok","Error","status","data","json","console","log","output","choices","text","error","message"],"sources":["/home/younes/Desktop/api/ai-content/src/components/api/OpenAIAPI.js"],"sourcesContent":["export async function callAPI(prompt, options) {\n  try {\n    const response = await fetch(`/api/ai-content`, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${process.env.API_KEY}`,\n      },\n      body: JSON.stringify({\n        prompt: prompt,\n        temperature: options.temperature,\n        max_tokens: options.max_tokens,\n        top_p: options.top_p,\n        frequency_penalty: options.frequency_penalty,\n        presence_penalty: options.presence_penalty,\n      }),\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n\n    const data = await response.json();\n    console.log(data);\n    return data.output.choices[0].text;\n  } catch (error) {\n    // console.error(\"Error:\", error.message);\n    return {\n      error: true,\n      message:\n        \"Sorry, there was an error with your request. Please make sure your API Key is valid and try again later. If the issue persists, please try again later.\",\n    };\n  }\n}\n"],"mappings":"AAAA,OAAO,eAAeA,OAAOA,CAACC,MAAM,EAAEC,OAAO,EAAE;EAC7C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,iBAAgB,EAAE;MAC9CC,MAAM,EAAE,MAAM;MACdC,IAAI,EAAE,MAAM;MACZC,KAAK,EAAE,UAAU;MACjBC,WAAW,EAAE,aAAa;MAC1BC,OAAO,EAAE;QACP,cAAc,EAAE,kBAAkB;QAClCC,aAAa,EAAG,UAASC,OAAO,CAACC,GAAG,CAACC,OAAQ;MAC/C,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnBf,MAAM,EAAEA,MAAM;QACdgB,WAAW,EAAEf,OAAO,CAACe,WAAW;QAChCC,UAAU,EAAEhB,OAAO,CAACgB,UAAU;QAC9BC,KAAK,EAAEjB,OAAO,CAACiB,KAAK;QACpBC,iBAAiB,EAAElB,OAAO,CAACkB,iBAAiB;QAC5CC,gBAAgB,EAAEnB,OAAO,CAACmB;MAC5B,CAAC;IACH,CAAC,CAAC;IAEF,IAAI,CAAClB,QAAQ,CAACmB,EAAE,EAAE;MAChB,MAAM,IAAIC,KAAK,CAAE,uBAAsBpB,QAAQ,CAACqB,MAAO,EAAC,CAAC;IAC3D;IAEA,MAAMC,IAAI,GAAG,MAAMtB,QAAQ,CAACuB,IAAI,EAAE;IAClCC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;IACjB,OAAOA,IAAI,CAACI,MAAM,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,IAAI;EACpC,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd;IACA,OAAO;MACLA,KAAK,EAAE,IAAI;MACXC,OAAO,EACL;IACJ,CAAC;EACH;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}